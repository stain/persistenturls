<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../template.xsl"?>
<!-- Copyright (c) 2010 Zepheira LLC, Some Rights Reserved. -->
<html xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
	xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
	xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
	xmlns:calli="http://callimachusproject.org/rdf/2009/framework#"
	xmlns:purl="http://persistent.name/rdf/2010/purl#">
	<head>
		<title>Copy a Domain</title>
		<script>
			$(document).ready(function() {
				var origin = $('base').attr('href')
				if (origin.lastIndexOf('/') == origin.length - 1) {
					origin = origin.substring(0, origin.lastIndexOf('/', origin.length - 2) + 1)
				} else {
			    	origin = 'http://'
			    }
			    $('#origin-span').text(origin)
			});
		</script>
	</head>
	<body class="domain">
		<form action="" about="" typeof="purl:Domain" class="diverted">
			<fieldset>
				<legend>Copy a Domain</legend>
				<p class="instructions">Fill in the following domain information.</p>
				<table class="actiontable">
					<tbody>
						<tr>
							<td class="property">
								<label for="m_label">Name:</label>
							</td>
							<td class="value" data-cardinality="1">
								<span id="origin-span"/>
								<input id="m_label" property="rdfs:label" type="text"
									onchange="$(form).attr('about', $('#m_origin').attr('href') + value + '/')" />
								<span>/</span>
							</td>
						</tr>
						<tr>
							<td class="property">
								<label for="m_days">Max Unresolved Days:</label>
							</td>
							<td class="value" data-cardinality="1">
								<input id="m_days" property="purl:max-unresolved-days" datatype="xsd:int" type="text" />
							</td>
						</tr>
						<tr>
							<td class="property">
								<label>Service:</label>
							</td>
							<td rel="purl:service" class="value">
								<span typeof="purl:Service">
									<p data-cardinality="1">
										<label for="m_server">Server:</label> <input id="m_server" rel="purl:server" type="text" onchange="$(this).attr('resource', $(this).val())"/>
									</p>
									<p data-cardinality="1">
										<label for="m_priority">Priority:</label> <input property="purl:priority" datatype="xsd:byte" type="text" id="m_priority" value="" />
									</p>
									<p data-cardinality="1">
										<label for="m_weight">Weight:</label> <input property="purl:weight" datatype="xsd:byte" type="text" id="m_weight" value="" />
									</p>
								</span>
							</td>
						</tr>
						<tr class="all">
							<td class="property">
								<label for="m_curator">Scribes:</label>
							</td>
							<td rel="calli:scribe" class="value" data-suggest="/persistent/user/template?pre-copy">
								<span about="?scribe" typeof="purl:User">
									<span property="rdfs:label"/>
								</span>
							</td>
						</tr>
						<tr class="all">
							<td class="property">
								<label for="m_curator">Curators:</label>
							</td>
							<td rel="calli:curator" class="value" data-suggest="/persistent/user/template?pre-copy">
								<span about="?curator" typeof="purl:User">
									<span property="rdfs:label"/>
								</span>
							</td>
						</tr>
						<tr>
							<td class="property">
								<label for="m_maintainer">Maintainers:</label>
							</td>
							<td rel="calli:maintainer" class="value" data-suggest="/persistent/user/template?pre-copy">
								<span about="?maintainer" typeof="purl:User">
									<span property="rdfs:label"/>
								</span>
							</td>
						</tr>
						<tr class="hidden">
							<td class="property"></td>
							<td class="value">
								<a id="m_origin" rel="purl:domainOf" href="?origin" />
							</td>
						</tr>
					</tbody>
				</table>
				<input value="Create" type="submit" />
				<br />
			</fieldset>
		</form>
	</body>
</html>
