<?xml version="1.0" encoding="UTF-8"?><module>
	<!--
	***********
	PURL Session Module
	***********
	-->
    <identity>
		<uri>urn:org:purl:session</uri>
		<version>0.0.5</version>
    </identity>
	<info>
		<name>PURL Session Module</name>
        <description>A module containing services to manage sessions for the OCLC PURLs Service.</description>
		<dynamic/>
    </info>
    <publisher>
        <name>OCLC.</name>
		<uri>http://www.oclc.org</uri>
    </publisher>
	<export>
		<uri>
			<match>ffcpl:/(template|purl|group|domain|user|admin)/.*</match>
			<match>ffcpl:/etc/HTTPBridgeConfig.xml</match>
		</uri>
	</export>
	<rewrite>
		<rule>
			<match>(ffcpl:/(template|admin)/(?!login|static/).*)</match>
			<to>active:gk+uri@$1</to>
		</rule>
		<rule>
			<match>.*?(/login/.*?.bsh.*)</match>
			<to>active:beanshell+operator@ffcpl:/resources$1</to>
		</rule>
		<rule>
			<match>(.*(template|admin)/(?!static).*)</match>
			<to>active:sessionmapper+uri@$e1</to>
		</rule>
		 <rule>
			<match>ffcpl:/(template|admin)(/static.*?)(\+.*)</match>
			<to>ffcpl:/resources$1</to>
		</rule> 
	</rewrite>
	<mapping>
		<this>
			<match>ffcpl:/resources/.*</match>
			<match>ffcpl:/etc/(SessionPolicy|GateKeeperPolicy|HTTPBridgeConfig)\.xml</match>
		</this>

		<import>
			<uri>urn:org:ten60:netkernel:ext:xsecurity</uri>
		</import>
		<import>
			<uri>urn:org:ten60:netkernel:ext:session</uri>
		</import>
		<import>
			<uri>urn:org:purl:admin</uri>
		</import>
		<import>
			<uri>urn:org:ten60:netkernel:ext:script</uri>
		</import>
		<import>
			<uri>urn:org:ten60:netkernel:ext:sys</uri>
		</import>
		<import>
			<uri>urn:org:ten60:netkernel:ext:xml:core</uri>
		</import>
		<import>
			<uri>urn:org:ten60:netkernel:tpt:http</uri>
		</import>
		<import>
			<uri>urn:org:ten60:netkernel:ext:xml:ura</uri>
		</import>
		<import>
			<uri>urn:org:ten60:netkernel:ext:layer1</uri>
		</import>

    </mapping>
</module>